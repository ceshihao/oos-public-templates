FormatVersion: OOS-2019-06-01
Description:
  name-en: ACS-RAM-SetPasswordPolicy
  name-zh-cn: 调用SetPasswordPolicy设置RAM用户密码强度策略
  en: Call SetPasswordPolicy to set the RAM user password strength policy
  zh-cn: 调用SetPasswordPolicy设置RAM用户密码强度策略
  categories:
    - security
Parameters:
  minimumPasswordLength:
    Description:
      en: Minimum password length
      zh-cn: 最小密码长度
    Type: Number
    Default: 8
  requireLowercaseCharacters:
    Description:
      en: Whether the password must contain lowercase letters
      zh-cn: 密码中是否必须包含小写字母
    Type: Boolean
    Default: false
  requireUppercaseCharacters:
    Description:
      en: Whether the password must contain uppercase letters
      zh-cn: 密码中是否必须包含大写字母
    Type: Boolean
    Default: false
  requireNumbers:
    Description:
      en: Whether a password must contain a number
      zh-cn: 密码中是否必须包含数字
    Type: Boolean
    Default: false
  requireSymbols:
    Description:
      en: Whether a password must contain symbols
      zh-cn: 密码中是否必须包含符号
    Type: Boolean
    Default: false
  hardExpire:
    Description:
      en: Whether to restrict login after the password expires
      zh-cn: 密码过期后是否限制登录
    Type: Boolean
    Default: false
  maxLoginAttemps:
    Description:
      en: Restriction on the number of password retries
      zh-cn: 密码重试次数约束
    Type: Number
    Default: 0
  passwordReusePrevention:
    Description:
      en: Historical password check policy
      zh-cn: 历史密码检查策略
    Type: Number
    Default: 0
  maxPasswordAge:
    Description:
      en: Password validity period
      zh-cn: 密码有效期
    Type: Number
    Default: 0
  minimumPasswordDifferentCharacter:
    Description:
      en: The minimum number of different characters in a password
      zh-cn: 密码中最少包含的不同字符数量
    Type: Number
    Default: 0
  passwordNotContainUserName:
    Description:
      en: Whether a password cannot contain a user name
      zh-cn: 密码中是否不允许包含用户名
    Type: Boolean
    Default: false
  OOSAssumeRole:
    Description:
      en: The RAM role to be assumed by OOS
      zh-cn: OOS扮演的RAM角色
    Type: String
    Default: OOSServiceRole
RamRole: '{{ OOSAssumeRole }}'
Tasks:
  - Name: SetPasswordPolicy
    Action: 'ACS::ExecuteApi'
    Description:
      en: Call SetPasswordPolicy to set the RAM user password strength policy
      zh-cn: 调用SetPasswordPolicy设置RAM用户密码强度策略。
    Properties:
      Service: RAM
      API: SetPasswordPolicy
      Parameters:
        MinimumPasswordLength: '{{ minimumPasswordLength }}'
        RequireLowercaseCharacters: '{{ requireLowercaseCharacters }}'
        RequireUppercaseCharacters: '{{ requireUppercaseCharacters }}'
        RequireNumbers: '{{ requireNumbers }}'
        RequireSymbols: '{{ requireSymbols }}'
        HardExpiry: '{{ hardExpire }}'
        MaxLoginAttemps: '{{ maxLoginAttemps }}'
        PasswordReusePrevention: '{{ passwordReusePrevention }}'
        MaxPasswordAge: '{{ maxPasswordAge }}'

